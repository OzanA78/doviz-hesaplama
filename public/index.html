<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aylık Ödeme Tablosu</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container table-view">
        <div class="header-container">
            <h1>Aylık Ödeme Tablosu</h1>
            <p class="subtitle">Farklı tarihlerdeki miktarların güncel toplu değerini hesaplayın.</p>
            <div class="current-rate-info" id="currentRateInfo">Güncel Kur: Yükleniyor...</div>
        </div>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr class="mobile-header" style="display:none;">
                        <th>Yıl</th>
                        <th>Ay</th>
                        <th>Miktar (TL)</th>
                    </tr>
                    <tr class="web-header">
                        <th class="year-header">Yıl</th>
                        <th class="month-header">Ay</th>
                        <th>Miktar (₺)</th>
                    </tr>
                </thead>
                <tbody id="calculation-table-body">
                    </tbody>
            </table>
        </div>

        <!-- Modern Footer with Totals -->
        <div class="footer-container">
            <div class="totals-container" id="totals-container">
                <div class="total-item">
                    <span class="total-label">Harcanan Miktar</span>
                    <span id="total-amount" class="total-value">0 ₺</span>
                    <div id="total-gold-amount" class="total-gold-amount">0 gr</div>
                </div>
                <div class="total-item">
                    <span class="total-label" id="total-current-value-label">Bugünün Parası ile:</span>
                    <span id="total-current-value" class="total-value">0 ₺</span>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar-container">
            <div class="toolbar-left">
                <div class="plan-controls">
                    <input type="text" id="planTitleInput" class="plan-input compact" placeholder="Plan adı..." maxlength="50">
                    <select id="planSelector" class="plan-selector">
                        <option value="">Plan seçin...</option>
                    </select>
                    <button id="savePlanBtn" class="toolbar-btn save-btn" title="Planı kaydet">💾 Kaydet</button>
                    <button id="deletePlanBtn" class="toolbar-btn delete-btn" title="Seçili planı sil">🗑️ Sil</button>
                </div>
            </div>
            <div class="toolbar-right">
                <div class="plan-actions">
                    <button id="clearCacheBtn" class="toolbar-btn clear-btn" title="Tüm verileri temizle">🧹 Temizle</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Modern Modal -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal-content">
            <div class="modal-title">Tarih Güncelleme</div>
            <div class="modal-message" id="modalMessage"></div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-yes" id="modalYes">Evet</button>
                <button class="modal-btn modal-btn-no" id="modalNo">Hayır</button>
            </div>
        </div>
    </div>

    <script src="tablo.js"></script>
</body>
</html>